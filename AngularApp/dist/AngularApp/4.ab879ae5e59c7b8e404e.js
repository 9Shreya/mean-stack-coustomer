(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{PgJR:function(e,t,o){"use strict";o.r(t),o.d(t,"EmployeeModule",(function(){return _}));var n=o("3Pt+"),i=o("ofXK"),b=o("fXoL"),c=o("ibrm"),r=o("tyNb");let l=(()=>{class e{constructor(e,t){this.service=e,this.routes=t}ngOnInit(){}loggin(e){this.service.register({fullName:e.value.fullName,email:e.value.email,password:e.value.password}).subscribe(e=>{console.log(e),this.routes.navigate(["/login"]),M.toast({html:"SignUp Succesfully",classes:"rounded"})},e=>{console.log(e)})}}return e.\u0275fac=function(t){return new(t||e)(b.Hb(c.a),b.Hb(r.a))},e.\u0275cmp=b.Bb({type:e,selectors:[["app-signup"]],decls:24,vars:4,consts:[["align","center",1,"middile",3,"submit"],["login","ngForm"],[1,"row",2,"margin-top","30px","margin-left","30px"],[1,"input-field","col","s10"],["for","name",1,"active",2,"font-size","large","font-weight","bold"],["placeholder","Enter Full Name","id","fullName","type","text","required","","name","fullName",3,"ngModel","ngModelChange"],["fullNam","ngModel"],["placeholder","eg: example@gmail.com","id","name","type","text","required","","name","email","pattern","[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$",3,"ngModel","ngModelChange"],["name","ngModel"],[1,"row",2,"margin-left","30px"],["id","position","placeholder","Password","type","password","required","","minlength","6","name","password",3,"ngModel","ngModelChange"],["position","ngModel"],["for","position",1,"active",2,"font-size","large","font-weight","bold"],[1,"input-field","col","s12"],["type","submit",1,"btn","btn-custom","center",2,"width","50%",3,"disabled"]],template:function(e,t){if(1&e){const e=b.Nb();b.Mb(0,"div"),b.Mb(1,"form",0,1),b.Tb("submit",(function(){b.bc(e);const o=b.ac(2);return t.loggin(o)})),b.Mb(3,"div",2),b.Mb(4,"div",3),b.Mb(5,"label",4),b.fc(6,"Full Name"),b.Lb(),b.Mb(7,"input",5,6),b.Tb("ngModelChange",(function(e){return t.fullName=e})),b.Lb(),b.Lb(),b.Lb(),b.Mb(9,"div",2),b.Mb(10,"div",3),b.Mb(11,"label",4),b.fc(12,"Email"),b.Lb(),b.Mb(13,"input",7,8),b.Tb("ngModelChange",(function(e){return t.email=e})),b.Lb(),b.Lb(),b.Lb(),b.Mb(15,"div",9),b.Mb(16,"div",3),b.Mb(17,"input",10,11),b.Tb("ngModelChange",(function(e){return t.password=e})),b.Lb(),b.Mb(19,"label",12),b.fc(20,"Password"),b.Lb(),b.Lb(),b.Lb(),b.Mb(21,"div",13),b.Mb(22,"button",14),b.fc(23,"SignUp"),b.Lb(),b.Lb(),b.Lb(),b.Lb()}if(2&e){const e=b.ac(2);b.xb(7),b.Yb("ngModel",t.fullName),b.xb(6),b.Yb("ngModel",t.email),b.xb(4),b.Yb("ngModel",t.password),b.xb(5),b.Yb("disabled",e.invalid)}},directives:[n.k,n.e,n.f,n.a,n.j,n.d,n.g,n.i,n.c],styles:[""]}),e})();function a(e,t){1&e&&(b.Mb(0,"div",47),b.fc(1,"\nAmmount cannot be less then or equal to duration "),b.Lb())}function s(e,t){if(1&e&&(b.Mb(0,"div",48),b.fc(1),b.Lb()),2&e){b.Vb();const e=b.ac(37),t=b.Vb();b.xb(1),b.hc("\n",t.valcoustomer/e.value,"(per month)\n")}}function u(e,t){if(1&e&&(b.Mb(0,"div",48),b.fc(1),b.Wb(2,"number"),b.Lb()),2&e){b.Vb();const e=b.ac(37),t=b.Vb();b.xb(1),b.ic("\nAmount to be paid after ",e.value," months ",b.Xb(2,2,t.valcoustomer,"1.2-2")," Rupees\n")}}function d(e,t){if(1&e){const e=b.Nb();b.Mb(0,"div",5),b.Mb(1,"div",14),b.Mb(2,"label"),b.fc(3,"Status of loan"),b.Lb(),b.Mb(4,"button",49),b.Tb("click",(function(){b.bc(e),b.Vb();const t=b.ac(7);return b.Vb().approve(t,"approved")})),b.fc(5,"Approve"),b.Lb(),b.Mb(6,"button",38),b.Tb("click",(function(){b.bc(e),b.Vb();const t=b.ac(7);return b.Vb().approve(t,"rejected")})),b.fc(7,"Reject"),b.Lb(),b.Lb(),b.Lb()}}function m(e,t){if(1&e){const e=b.Nb();b.Mb(0,"i",53),b.Tb("click",(function(){b.bc(e);const t=b.Vb(2).$implicit;return b.Vb(2).editCoustomer(t)})),b.fc(1,"\nedit\n"),b.Lb()}}function g(e,t){if(1&e){const e=b.Nb();b.Mb(0,"tr"),b.Mb(1,"td"),b.fc(2),b.Lb(),b.Mb(3,"td"),b.fc(4),b.Lb(),b.Mb(5,"td"),b.fc(6),b.Lb(),b.Mb(7,"td"),b.fc(8),b.Lb(),b.Mb(9,"td"),b.fc(10),b.Wb(11,"number"),b.Lb(),b.Mb(12,"td"),b.fc(13),b.Lb(),b.Mb(14,"td"),b.fc(15),b.Lb(),b.Mb(16,"td"),b.ec(17,m,2,0,"i",51),b.Mb(18,"i",52),b.Tb("click",(function(){b.bc(e);const t=b.Vb().$implicit;return b.Vb(2).deleteCoustomer(t)})),b.fc(19,"\ndelete\n"),b.Lb(),b.Lb(),b.Lb()}if(2&e){const e=b.Vb().$implicit;b.xb(2),b.gc(e.name),b.xb(2),b.gc(e.loan),b.xb(2),b.gc(e.ammount),b.xb(2),b.gc(e.status),b.xb(2),b.gc(b.Xb(11,8,e.emi,"1.2-2")),b.xb(3),b.gc(e.intrestRate),b.xb(2),b.gc(e.duration),b.xb(2),b.Yb("ngIf","approved"!=e.status)}}function f(e,t){if(1&e&&(b.Kb(0),b.ec(1,g,20,11,"tr",50),b.Jb()),2&e){const e=t.$implicit,o=b.Vb(2);b.xb(1),b.Yb("ngIf",o.filterCondition(e))}}function p(e,t){if(1&e){const e=b.Nb();b.Mb(0,"div",5),b.Mb(1,"div",6),b.Mb(2,"div",7),b.Mb(3,"div",8),b.Mb(4,"div",5),b.Mb(5,"div",9),b.Mb(6,"form",10,11),b.Tb("ngSubmit",(function(){b.bc(e);const t=b.ac(7);return b.Vb().coustomerSubmit(t)})),b.Mb(8,"input",12,13),b.Tb("ngModelChange",(function(t){return b.bc(e),b.Vb().coustomer._id=t})),b.Lb(),b.Mb(10,"div",5),b.Mb(11,"div",14),b.Mb(12,"label",15),b.fc(13,"Name"),b.Lb(),b.Mb(14,"input",16,17),b.Tb("ngModelChange",(function(t){return b.bc(e),b.Vb().coustomer.name=t})),b.Lb(),b.Lb(),b.Lb(),b.Mb(16,"div",5),b.Mb(17,"div",14),b.Mb(18,"label",15),b.fc(19,"Email"),b.Lb(),b.Mb(20,"input",18,19),b.Tb("ngModelChange",(function(t){return b.bc(e),b.Vb().coustomer.email=t})),b.Lb(),b.Lb(),b.Lb(),b.Mb(22,"div",5),b.Mb(23,"div",14),b.Mb(24,"input",20,21),b.Tb("ngModelChange",(function(t){return b.bc(e),b.Vb().coustomer.loan=t})),b.Lb(),b.Mb(26,"label",22),b.fc(27,"Loan Type"),b.Lb(),b.Lb(),b.Lb(),b.Mb(28,"div",5),b.Mb(29,"div",14),b.Mb(30,"input",23,24),b.Tb("ngModelChange",(function(t){return b.bc(e),b.Vb().ammount=t})),b.Lb(),b.Mb(32,"label",25),b.fc(33,"Ammount"),b.Lb(),b.Lb(),b.Lb(),b.Mb(34,"div",5),b.Mb(35,"div",14),b.Mb(36,"input",26,27),b.Tb("ngModelChange",(function(t){return b.bc(e),b.Vb().duration=t}))("change",(function(){return b.bc(e),b.Vb().changeValue()})),b.Lb(),b.Mb(38,"label",28),b.fc(39,"Duration (months)"),b.Lb(),b.ec(40,a,2,0,"div",29),b.Lb(),b.Lb(),b.Mb(41,"div",5),b.Mb(42,"div",14),b.Mb(43,"label",30),b.fc(44,"EMI"),b.Lb(),b.ec(45,s,2,1,"div",31),b.Lb(),b.Lb(),b.Mb(46,"input",32,33),b.Tb("ngModelChange",(function(t){return b.bc(e),b.Vb().coustomer.intrestRate=t})),b.Lb(),b.Mb(48,"input",34,35),b.Tb("ngModelChange",(function(t){return b.bc(e),b.Vb().coustomer.status=t})),b.Lb(),b.ec(50,u,3,5,"div",31),b.Mb(51,"label",36),b.fc(52,"Intrest rate is 8%"),b.Lb(),b.ec(53,d,8,0,"div",3),b.Mb(54,"div",5),b.Mb(55,"div",14),b.Mb(56,"button",37),b.fc(57,"Submit"),b.Lb(),b.Mb(58,"button",38),b.Tb("click",(function(){b.bc(e);const t=b.ac(7);return b.Vb().resetForm(t)})),b.fc(59,"Reset"),b.Lb(),b.Lb(),b.Lb(),b.Lb(),b.Lb(),b.Mb(60,"div",39),b.Mb(61,"div",40),b.Mb(62,"input",41),b.Tb("ngModelChange",(function(t){return b.bc(e),b.Vb().searchText=t})),b.Lb(),b.Mb(63,"span",42),b.Tb("click",(function(){return b.bc(e),b.Vb().searchText=""})),b.fc(64,"\nclose\n"),b.Lb(),b.Lb(),b.Mb(65,"div",43),b.Mb(66,"table",44),b.Mb(67,"thead",45),b.Mb(68,"th"),b.fc(69,"Name"),b.Lb(),b.Mb(70,"th"),b.fc(71,"Loan "),b.Lb(),b.Mb(72,"th"),b.fc(73,"Ammount"),b.Lb(),b.Mb(74,"th"),b.fc(75,"Status"),b.Lb(),b.Mb(76,"th"),b.fc(77,"EMI"),b.Lb(),b.Mb(78,"th"),b.fc(79,"Intrest Rate"),b.Lb(),b.Mb(80,"th"),b.fc(81,"Duration"),b.Lb(),b.Mb(82,"th"),b.fc(83,"Action"),b.Lb(),b.Lb(),b.ec(84,f,2,1,"ng-container",46),b.Lb(),b.Lb(),b.Lb(),b.Lb(),b.Lb(),b.Lb(),b.Lb(),b.Lb()}if(2&e){const e=b.ac(7),t=b.ac(31),o=b.ac(37),n=b.Vb();b.xb(8),b.Yb("ngModel",n.coustomer._id),b.xb(6),b.Yb("ngModel",n.coustomer.name),b.xb(6),b.Yb("ngModel",n.coustomer.email),b.xb(4),b.Yb("ngModel",n.coustomer.loan),b.xb(6),b.Yb("ngModel",n.ammount),b.xb(6),b.Yb("ngModel",n.duration),b.xb(4),b.Yb("ngIf",t.value<=o.value&&t.touched&&t.dirty),b.xb(5),b.Yb("ngIf",o.dirty&&t.touched&&t.dirty),b.xb(1),b.Yb("ngModel",n.coustomer.intrestRate),b.xb(2),b.Yb("ngModel",n.coustomer.status),b.xb(2),b.Yb("ngIf",o.dirty&&t.touched&&t.dirty),b.xb(3),b.Yb("ngIf",n.editStatus&&"admin"==n.role),b.xb(3),b.Yb("disabled",e.invalid),b.xb(6),b.Yb("ngModel",n.searchText),b.xb(22),b.Yb("ngForOf",n.coustomerArray)}}function h(e,t){if(1&e&&(b.Mb(0,"tr"),b.Mb(1,"td"),b.fc(2),b.Lb(),b.Mb(3,"td"),b.fc(4),b.Lb(),b.Mb(5,"td"),b.fc(6),b.Lb(),b.Mb(7,"td"),b.fc(8),b.Lb(),b.Mb(9,"td"),b.fc(10),b.Wb(11,"number"),b.Lb(),b.Mb(12,"td"),b.fc(13),b.Lb(),b.Mb(14,"td"),b.fc(15),b.Lb(),b.Lb()),2&e){const e=b.Vb().$implicit;b.xb(2),b.gc(e.name),b.xb(2),b.gc(e.loan),b.xb(2),b.gc(e.ammount),b.xb(2),b.gc(e.status),b.xb(2),b.gc(b.Xb(11,7,e.emi,"1.2-2")),b.xb(3),b.gc(e.intrestRate),b.xb(2),b.gc(e.duration)}}function L(e,t){if(1&e&&(b.Kb(0),b.ec(1,h,16,10,"tr",50),b.Jb()),2&e){const e=t.$implicit,o=b.Vb(2);b.xb(1),b.Yb("ngIf",o.mailId==e.email)}}function v(e,t){if(1&e&&(b.Mb(0,"div",39),b.Mb(1,"table",54),b.Mb(2,"thead",45),b.Mb(3,"th"),b.fc(4,"Name"),b.Lb(),b.Mb(5,"th"),b.fc(6,"Loan "),b.Lb(),b.Mb(7,"th"),b.fc(8,"Ammount"),b.Lb(),b.Mb(9,"th"),b.fc(10,"Status"),b.Lb(),b.Mb(11,"th"),b.fc(12,"EMI"),b.Lb(),b.Mb(13,"th"),b.fc(14,"Intrest Rate"),b.Lb(),b.Mb(15,"th"),b.fc(16,"Duration"),b.Lb(),b.Lb(),b.ec(17,L,2,1,"ng-container",46),b.Lb(),b.Lb()),2&e){const e=b.Vb();b.xb(17),b.Yb("ngForOf",e.coustomerArray)}}let x=(()=>{class e{constructor(e,t){this.service=e,this.route=t,this.intrestRate="8%",this.coustomer={_id:"",name:"",email:"",loan:"",ammount:"",status:"New",emi:"",intrestRate:"8%",duration:Number},this.editStatus=!1,this.coustomerArray=[],this.searchText=""}ngOnInit(){this.resetForm(),this.getCoustomer(),this.role=sessionStorage.getItem("role"),this.mailId=sessionStorage.getItem("email")}coustomerSubmit(e){""==e.value._id?(e.value.status="new",e.value.intrestRate="8%",e.value.emi=this.valcoustomer/12,this.service.postCoustomer(e.value).subscribe(t=>{console.log(t),this.resetForm(),this.getCoustomer(),this.routeToLogin(t),this.valcoustomer=Number,this.service.register({fullName:e.value.name,email:e.value.email,password:123456}).subscribe(e=>{console.log(e)}),this.duration=0,this.ammount=Number,this.valcoustomer=0,M.toast({html:"Saved Succesfully",classes:"rounded"})},e=>{console.log(e)})):(this.changeValue(),this.editStatus=!1,e.value.intrestRate="8%",e.value.emi=this.valcoustomer/12,this.service.editCoustomer(e.value).subscribe(e=>{console.log(e),this.resetForm(),this.routeToLogin(e),this.getCoustomer(),this.duration=0,this.ammount=Number,this.valcoustomer=Number},e=>{console.log(e)}))}resetForm(e){this.coustomer={_id:"",email:"",name:"",loan:"",ammount:"",status:"",emi:"",intrestRate:"",duration:Number}}getCoustomer(){this.service.getCoustomer().subscribe(e=>{this.coustomerArray=e.result,console.log(e,this.coustomerArray),this.routeToLogin(e)},e=>{console.log(e)})}deleteCoustomer(e){this.service.deleteCoustomer(e).subscribe(e=>{console.log(e),M.toast({html:e.result.name+" got deleted",classes:"rounded"}),this.getCoustomer(),this.routeToLogin(e)},e=>{console.log(e)})}editCoustomer(e){this.coustomer=e,this.ammount=this.coustomer.ammount,this.duration=this.coustomer.duration,this.editStatus=!0}filterCondition(e){return-1!=e.name.toLowerCase().indexOf(this.searchText.toLowerCase())}filterConditionEmail(e){return-1!=e.email.toLowerCase().indexOf(this.searchText.toLowerCase())}routeToLogin(e){"No token provided."===e.message&&this.route.navigate(["/"])}logout(){sessionStorage.clear(),localStorage.clear(),this.route.navigateByUrl("/login")}changeValue(){let e=this.ammount*Math.pow(1.08,this.duration/12);console.log(e),this.valcoustomer=e,console.log(1.08*this.ammount,this.duration,Math.pow(7,3)),this.coustomer.emi=""+this.valcoustomer/this.duration,this.coustomer.intrestRate="8%",this.coustomer.status="new",console.log(this.coustomer)}approve(e,t){"rejected"==t&&(e.value.status="rejected",this.coustomerSubmit(e)),"approved"==t&&(e.value.status="approved",this.coustomerSubmit(e))}}return e.\u0275fac=function(t){return new(t||e)(b.Hb(c.a),b.Hb(r.a))},e.\u0275cmp=b.Bb({type:e,selectors:[["app-coustomer"]],viewQuery:function(e,t){var o;1&e&&b.jc(l,!0),2&e&&b.Zb(o=b.Ub())&&(t.SignupComponent=o.first)},decls:7,vars:3,consts:[[1,"navBar"],[2,"margin","10px 100px","text-transform","capitalize","font-size","25px"],[1,"btn","btn-custom","right",2,"margin","10px 100px",3,"click"],["class","row",4,"ngIf"],["class","col s7","style","color: black;",4,"ngIf"],[1,"row"],[1,"col","s12"],[1,"card"],[1,"card-content","white-text"],[1,"col","s5"],[3,"ngSubmit"],["customerForm","ngForm"],["type","hidden","name","_id",3,"ngModel","ngModelChange"],["_id","ngModel"],[1,"input-field","col","s12"],["for","name",1,"active"],["placeholder","Enter full Name","id","name","type","text","required","","name","name",3,"ngModel","ngModelChange"],["name","ngModel"],["placeholder","Enter email id of coustomer","id","email","type","text","pattern","[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$","required","","name","email",3,"ngModel","ngModelChange"],["email","ngModel"],["id","loan","placeholder","Eg: Home Loan","type","text","name","loan",3,"ngModel","ngModelChange"],["loan","ngModel"],["for","loan",1,"active"],["id","ammount","placeholder","Loan Ammount","min","1","type","number","name","ammount",3,"ngModel","ngModelChange"],["ammoun","ngModel"],["for","ammount",1,"active"],["type","number","placeholder","Enter in months","min","1","id","duration","name","duration",3,"ngModel","ngModelChange","change"],["duratio","ngModel"],["for","duration",1,"active"],["style","color: red;",4,"ngIf"],["for","emi",1,"active"],["style","color: #26a692;font-size:12px ;",4,"ngIf"],["type","hidden","name","intrestRate",3,"ngModel","ngModelChange"],["intrestRate","ngModel"],["type","hidden","name","status",3,"ngModel","ngModelChange"],["status","ngModel"],[1,"active"],["type","submit",1,"btn","btn-custom","right",2,"margin-left","8px",3,"disabled"],["type","button",1,"btn","btn-custom","right",3,"click"],[1,"col","s7",2,"color","black"],[2,"display","flex"],["type","text","placeholder","Search for name ","name","searchText",3,"ngModel","ngModelChange"],[1,"material-icons",2,"cursor","pointer",3,"click"],[2,"height","70vh","overflow-y","auto"],[1,"responsive-table","highlight"],[1,"highlight",2,"background-color","lightgray"],[4,"ngFor","ngForOf"],[2,"color","red"],[2,"color","#26a692","font-size","12px"],["type","submit",1,"btn","btn-custom","right",2,"margin-left","15px",3,"click"],[4,"ngIf"],["class","material-icons",3,"click",4,"ngIf"],[1,"material-icons",2,"margin-left","20px",3,"click"],[1,"material-icons",3,"click"],[1,"responsive-table","highlight",2,"background-color","white"]],template:function(e,t){1&e&&(b.Mb(0,"nav",0),b.Mb(1,"span",1),b.fc(2),b.Lb(),b.Mb(3,"button",2),b.Tb("click",(function(){return t.logout()})),b.fc(4,"logout"),b.Lb(),b.Lb(),b.ec(5,p,85,15,"div",3),b.ec(6,v,18,1,"div",4)),2&e&&(b.xb(2),b.gc(t.role),b.xb(3),b.Yb("ngIf","agent"==t.role||"admin"==t.role),b.xb(1),b.Yb("ngIf","coustomer"==t.role))},directives:[i.j,n.k,n.e,n.f,n.a,n.d,n.g,n.j,n.i,n.h,i.i],pipes:[i.d],styles:[""]}),e})(),y=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=b.Bb({type:e,selectors:[["app-common"]],decls:7,vars:0,consts:[[1,"wrapper"],["id","formContent"],["routerLink","/login","routerLinkActive","active",1,"underlineHover"],["routerLink","/signup","routerLinkActive","active",1,"underlineHover"]],template:function(e,t){1&e&&(b.Mb(0,"div",0),b.Mb(1,"div",1),b.Mb(2,"h2",2),b.fc(3," Sign In "),b.Lb(),b.Mb(4,"h2",3),b.fc(5,"Sign Up "),b.Lb(),b.Ib(6,"router-outlet"),b.Lb(),b.Lb())},directives:[r.b,r.c,r.e],styles:[""]}),e})(),C=(()=>{class e{constructor(e,t){this.service=e,this.routes=t}ngOnInit(){}loggin(e){this.service.login(e.value).subscribe(e=>{console.log(e),e&&(localStorage.setItem("token",e.data),sessionStorage.setItem("token",e.data),this.routes.navigate(["/coustomer-list"]),M.toast({html:"Login Succesfully",classes:"rounded"}),this.service.getUserPayload())},e=>{console.log(e)})}}return e.\u0275fac=function(t){return new(t||e)(b.Hb(c.a),b.Hb(r.a))},e.\u0275cmp=b.Bb({type:e,selectors:[["app-login"]],decls:18,vars:3,consts:[["align","center",1,"middile",3,"submit"],["login","ngForm"],[1,"row",2,"margin-top","30px","margin-left","30px"],[1,"input-field","col","s10"],["for","name",1,"active",2,"font-size","large","font-weight","bold"],["placeholder","eg: example@gmail.com","id","name","type","text","required","","name","email","pattern","[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$",3,"ngModel","ngModelChange"],["name","ngModel"],[1,"row",2,"margin-left","30px"],["id","position","placeholder","Password","type","password","required","","minlength","6","name","password",3,"ngModel","ngModelChange"],["position","ngModel"],["for","position",1,"active",2,"font-size","large","font-weight","bold"],[1,"input-field","col","s12"],["type","submit",1,"btn","btn-custom","center",2,"width","50%",3,"disabled"]],template:function(e,t){if(1&e){const e=b.Nb();b.Mb(0,"div"),b.Mb(1,"form",0,1),b.Tb("submit",(function(){b.bc(e);const o=b.ac(2);return t.loggin(o)})),b.Mb(3,"div",2),b.Mb(4,"div",3),b.Mb(5,"label",4),b.fc(6,"Email"),b.Lb(),b.Mb(7,"input",5,6),b.Tb("ngModelChange",(function(e){return t.email=e})),b.Lb(),b.Lb(),b.Lb(),b.Mb(9,"div",7),b.Mb(10,"div",3),b.Mb(11,"input",8,9),b.Tb("ngModelChange",(function(e){return t.password=e})),b.Lb(),b.Mb(13,"label",10),b.fc(14,"Password"),b.Lb(),b.Lb(),b.Lb(),b.Mb(15,"div",11),b.Mb(16,"button",12),b.fc(17,"Login"),b.Lb(),b.Lb(),b.Lb(),b.Lb()}if(2&e){const e=b.ac(2);b.xb(7),b.Yb("ngModel",t.email),b.xb(4),b.Yb("ngModel",t.password),b.xb(5),b.Yb("disabled",e.invalid)}},directives:[n.k,n.e,n.f,n.a,n.j,n.i,n.d,n.g,n.c],styles:[""]}),e})();function T(e,t){if(1&e){const e=b.Nb();b.Mb(0,"tr"),b.Mb(1,"td"),b.fc(2),b.Lb(),b.Mb(3,"td"),b.fc(4),b.Lb(),b.Mb(5,"td"),b.fc(6),b.Lb(),b.Mb(7,"td"),b.fc(8),b.Lb(),b.Mb(9,"td"),b.Mb(10,"i",37),b.Tb("click",(function(){b.bc(e);const t=b.Vb().$implicit;return b.Vb(2).editEmployee(t)})),b.fc(11,"\nedit\n"),b.Lb(),b.Mb(12,"i",38),b.Tb("click",(function(){b.bc(e);const t=b.Vb().$implicit;return b.Vb(2).deletEmployee(t)})),b.fc(13,"\ndelete\n"),b.Lb(),b.Lb(),b.Lb()}if(2&e){const e=b.Vb().$implicit;b.xb(2),b.gc(e.name),b.xb(2),b.gc(e.position),b.xb(2),b.gc(e.office),b.xb(2),b.gc(e.salary)}}function V(e,t){if(1&e&&(b.Kb(0),b.ec(1,T,14,4,"tr",36),b.Jb()),2&e){const e=t.$implicit,o=b.Vb(2);b.xb(1),b.Yb("ngIf",o.filterCondition(e))}}function w(e,t){if(1&e){const e=b.Nb();b.Mb(0,"div",6),b.Mb(1,"div",7),b.Mb(2,"div",8),b.Mb(3,"div",9),b.Mb(4,"div",6),b.Mb(5,"div",10),b.Mb(6,"form",11,12),b.Tb("ngSubmit",(function(){b.bc(e);const t=b.ac(7);return b.Vb().employeeSubmit(t)})),b.Mb(8,"input",13,14),b.Tb("ngModelChange",(function(t){return b.bc(e),b.Vb().employee._id=t})),b.Lb(),b.Mb(10,"div",6),b.Mb(11,"div",15),b.Mb(12,"label",16),b.fc(13,"Name"),b.Lb(),b.Mb(14,"input",17,18),b.Tb("ngModelChange",(function(t){return b.bc(e),b.Vb().employee.name=t})),b.Lb(),b.Lb(),b.Lb(),b.Mb(16,"div",6),b.Mb(17,"div",15),b.Mb(18,"input",19,20),b.Tb("ngModelChange",(function(t){return b.bc(e),b.Vb().employee.position=t})),b.Lb(),b.Mb(20,"label",21),b.fc(21,"Position"),b.Lb(),b.Lb(),b.Lb(),b.Mb(22,"div",6),b.Mb(23,"div",15),b.Mb(24,"input",22,23),b.Tb("ngModelChange",(function(t){return b.bc(e),b.Vb().employee.office=t})),b.Lb(),b.Mb(26,"label",24),b.fc(27,"Office"),b.Lb(),b.Lb(),b.Lb(),b.Mb(28,"div",6),b.Mb(29,"div",15),b.Mb(30,"input",25,26),b.Tb("ngModelChange",(function(t){return b.bc(e),b.Vb().employee.salary=t})),b.Lb(),b.Mb(32,"label",27),b.fc(33,"Salary"),b.Lb(),b.Lb(),b.Lb(),b.Mb(34,"div",6),b.Mb(35,"div",15),b.Mb(36,"button",28),b.fc(37,"Submit"),b.Lb(),b.Mb(38,"button",29),b.Tb("click",(function(){b.bc(e);const t=b.ac(7);return b.Vb().resetForm(t)})),b.fc(39,"Reset"),b.Lb(),b.Lb(),b.Lb(),b.Lb(),b.Lb(),b.Mb(40,"div",30),b.Mb(41,"div",31),b.Mb(42,"input",32),b.Tb("ngModelChange",(function(t){return b.bc(e),b.Vb().searchText=t})),b.Lb(),b.Mb(43,"span",33),b.Tb("click",(function(){return b.bc(e),b.Vb().searchText=""})),b.fc(44,"\nclose\n"),b.Lb(),b.Lb(),b.Mb(45,"table",34),b.Mb(46,"th"),b.fc(47,"Name"),b.Lb(),b.Mb(48,"th"),b.fc(49,"Position "),b.Lb(),b.Mb(50,"th"),b.fc(51,"Office"),b.Lb(),b.Mb(52,"th"),b.fc(53,"Salary"),b.Lb(),b.Mb(54,"th"),b.fc(55,"Action"),b.Lb(),b.ec(56,V,2,1,"ng-container",35),b.Lb(),b.Lb(),b.Lb(),b.Lb(),b.Lb(),b.Lb(),b.Lb()}if(2&e){const e=b.ac(7),t=b.Vb();b.xb(8),b.Yb("ngModel",t.employee._id),b.xb(6),b.Yb("ngModel",t.employee.name),b.xb(4),b.Yb("ngModel",t.employee.position),b.xb(6),b.Yb("ngModel",t.employee.office),b.xb(6),b.Yb("ngModel",t.employee.salary),b.xb(6),b.Yb("disabled",e.invalid),b.xb(6),b.Yb("ngModel",t.searchText),b.xb(14),b.Yb("ngForOf",t.employeesArray)}}function k(e,t){if(1&e){const e=b.Nb();b.Mb(0,"tr"),b.Mb(1,"td"),b.fc(2),b.Lb(),b.Mb(3,"td"),b.fc(4),b.Lb(),b.Mb(5,"td"),b.fc(6),b.Lb(),b.Mb(7,"td"),b.fc(8),b.Lb(),b.Mb(9,"td"),b.Mb(10,"i",37),b.Tb("click",(function(){b.bc(e);const t=b.Vb().$implicit;return b.Vb(2).editEmployee(t)})),b.fc(11,"\nedit\n"),b.Lb(),b.Mb(12,"i",38),b.Tb("click",(function(){b.bc(e);const t=b.Vb().$implicit;return b.Vb(2).deletEmployee(t)})),b.fc(13,"\ndelete\n"),b.Lb(),b.Lb(),b.Lb()}if(2&e){const e=b.Vb().$implicit;b.xb(2),b.gc(e.name),b.xb(2),b.gc(e.position),b.xb(2),b.gc(e.office),b.xb(2),b.gc(e.salary)}}function I(e,t){if(1&e&&(b.Kb(0),b.ec(1,k,14,4,"tr",36),b.Jb()),2&e){const e=t.$implicit,o=b.Vb(2);b.xb(1),b.Yb("ngIf",o.filterCondition(e))}}function Y(e,t){if(1&e){const e=b.Nb();b.Mb(0,"div",39),b.Mb(1,"div",7),b.Mb(2,"div",8),b.Mb(3,"div",9),b.Mb(4,"div",31),b.Mb(5,"input",32),b.Tb("ngModelChange",(function(t){return b.bc(e),b.Vb().searchText=t})),b.Lb(),b.Mb(6,"span",40),b.Tb("click",(function(){return b.bc(e),b.Vb().searchText=""})),b.fc(7,"\nclose\n"),b.Lb(),b.Lb(),b.Mb(8,"table",41),b.Mb(9,"th"),b.fc(10,"Name"),b.Lb(),b.Mb(11,"th"),b.fc(12,"Position "),b.Lb(),b.Mb(13,"th"),b.fc(14,"Office"),b.Lb(),b.Mb(15,"th"),b.fc(16,"Salary"),b.Lb(),b.Mb(17,"th"),b.fc(18,"Action"),b.Lb(),b.ec(19,I,2,1,"ng-container",35),b.Lb(),b.Lb(),b.Lb(),b.Lb(),b.Lb()}if(2&e){const e=b.Vb();b.xb(5),b.Yb("ngModel",e.searchText),b.xb(14),b.Yb("ngForOf",e.employeesArray)}}function S(e,t){if(1&e){const e=b.Nb();b.Mb(0,"tr"),b.Mb(1,"td"),b.fc(2),b.Lb(),b.Mb(3,"td"),b.fc(4),b.Lb(),b.Mb(5,"td"),b.fc(6),b.Lb(),b.Mb(7,"td"),b.fc(8),b.Lb(),b.Mb(9,"td"),b.Mb(10,"i",37),b.Tb("click",(function(){b.bc(e);const t=b.Vb().$implicit;return b.Vb(2).editEmployee(t)})),b.fc(11,"\nedit\n"),b.Lb(),b.Mb(12,"i",38),b.Tb("click",(function(){b.bc(e);const t=b.Vb().$implicit;return b.Vb(2).deletEmployee(t)})),b.fc(13,"\ndelete\n"),b.Lb(),b.Lb(),b.Lb()}if(2&e){const e=b.Vb().$implicit;b.xb(2),b.gc(e.name),b.xb(2),b.gc(e.position),b.xb(2),b.gc(e.office),b.xb(2),b.gc(e.salary)}}function N(e,t){if(1&e&&(b.Kb(0),b.ec(1,S,14,4,"tr",36),b.Jb()),2&e){const e=t.$implicit,o=b.Vb(2);b.xb(1),b.Yb("ngIf",o.filterCondition(e))}}function E(e,t){if(1&e){const e=b.Nb();b.Mb(0,"div",30),b.Mb(1,"div",31),b.Mb(2,"input",32),b.Tb("ngModelChange",(function(t){return b.bc(e),b.Vb().searchText=t})),b.Lb(),b.Mb(3,"span",33),b.Tb("click",(function(){return b.bc(e),b.Vb().searchText=""})),b.fc(4,"\nclose\n"),b.Lb(),b.Lb(),b.Mb(5,"table",34),b.Mb(6,"th"),b.fc(7,"Name"),b.Lb(),b.Mb(8,"th"),b.fc(9,"Position "),b.Lb(),b.Mb(10,"th"),b.fc(11,"Office"),b.Lb(),b.Mb(12,"th"),b.fc(13,"Salary"),b.Lb(),b.Mb(14,"th"),b.fc(15,"Action"),b.Lb(),b.ec(16,N,2,1,"ng-container",35),b.Lb(),b.Lb()}if(2&e){const e=b.Vb();b.xb(2),b.Yb("ngModel",e.searchText),b.xb(14),b.Yb("ngForOf",e.employeesArray)}}let F=(()=>{class e{constructor(e,t){this.service=e,this.route=t,this.employee={_id:"",name:"",position:"",office:"",salary:""},this.employeesArray=[],this.searchText=""}ngOnInit(){this.resetForm(),this.getEmployee(),this.role=sessionStorage.getItem("role")}employeeSubmit(e){""==e.value._id?this.service.postEmployee(e.value).subscribe(e=>{console.log(e),this.resetForm(),this.getEmployee(),this.routeToLogin(e),M.toast({html:"Saved Succesfully",classes:"rounded"})},e=>{console.log(e)}):this.service.editEmployee(e.value).subscribe(e=>{console.log(e),this.resetForm(),this.routeToLogin(e),this.getEmployee()},e=>{console.log(e)})}resetForm(e){this.employee={_id:"",name:"",position:"",office:"",salary:""}}getEmployee(){this.service.getEmployee().subscribe(e=>{this.employeesArray=e.result,console.log(e,this.employeesArray),this.routeToLogin(e)},e=>{console.log(e)})}deletEmployee(e){this.service.deleteEMployee(e).subscribe(e=>{console.log(e),M.toast({html:e.result.name+" got deleted",classes:"rounded"}),this.getEmployee(),this.routeToLogin(e)},e=>{console.log(e)})}editEmployee(e){this.employee=e}filterCondition(e){return-1!=e.name.toLowerCase().indexOf(this.searchText.toLowerCase())}routeToLogin(e){"No token provided."===e.message&&this.route.navigate(["/"])}logout(){sessionStorage.clear(),localStorage.clear(),this.route.navigateByUrl("/login")}}return e.\u0275fac=function(t){return new(t||e)(b.Hb(c.a),b.Hb(r.a))},e.\u0275cmp=b.Bb({type:e,selectors:[["app-employee"]],decls:8,vars:4,consts:[[1,"navBar"],[2,"margin","10px 100px","text-transform","capitalize","font-size","25px"],[1,"btn","btn-custom","right",2,"margin","10px 100px",3,"click"],["class","row",4,"ngIf"],["class","row","style","color: black;",4,"ngIf"],["class","col s7","style","color: black;",4,"ngIf"],[1,"row"],[1,"col","s12"],[1,"card"],[1,"card-content","white-text"],[1,"col","s5"],[3,"ngSubmit"],["employeeForm","ngForm"],["type","hidden","name","_id",3,"ngModel","ngModelChange"],["_id","ngModel"],[1,"input-field","col","s12"],["for","name",1,"active"],["placeholder","Enter full Name","id","name","type","text","required","","name","name",3,"ngModel","ngModelChange"],["name","ngModel"],["id","position","placeholder","Eg: Jr Developer","type","text","name","position",3,"ngModel","ngModelChange"],["position","ngModel"],["for","position",1,"active"],["id","office","placeholder","City","type","text","name","office",3,"ngModel","ngModelChange"],["office","ngModel"],["for","office",1,"active"],["type","text","placeholder","Enter in nubmers","id","salary","name","salary",3,"ngModel","ngModelChange"],["salaray","ngModel"],["for","salary",1,"active"],["type","submit",1,"btn","btn-custom","right",2,"margin-left","8px",3,"disabled"],["type","button",1,"btn","btn-custom","right",3,"click"],[1,"col","s7",2,"color","black"],[2,"display","flex"],["type","text","placeholder","Search for name ","name","searchText",3,"ngModel","ngModelChange"],[1,"material-icons",2,"cursor","pointer",3,"click"],[1,"responsive-table","highlight"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"material-icons",3,"click"],[1,"material-icons",2,"margin-left","20px",3,"click"],[1,"row",2,"color","black"],[1,"material-icons",2,"cursor","pointer","color","black",3,"click"],[1,"responsive-table","highlight",2,"color","black"]],template:function(e,t){1&e&&(b.Mb(0,"nav",0),b.Mb(1,"span",1),b.fc(2),b.Lb(),b.Mb(3,"button",2),b.Tb("click",(function(){return t.logout()})),b.fc(4,"logout"),b.Lb(),b.Lb(),b.ec(5,w,57,8,"div",3),b.ec(6,Y,20,2,"div",4),b.ec(7,E,17,2,"div",5)),2&e&&(b.xb(2),b.gc(t.role),b.xb(3),b.Yb("ngIf","agent"==t.role),b.xb(1),b.Yb("ngIf","admin"==t.role),b.xb(1),b.Yb("ngIf","coustomer"==t.role))},directives:[i.j,n.k,n.e,n.f,n.a,n.d,n.g,n.j,i.i],styles:["input[_ngcontent-%COMP%]   .ng-invalid[_ngcontent-%COMP%]   .ng-dirty[_ngcontent-%COMP%]{border-bottom-color:red}.navBar[_ngcontent-%COMP%]{background-color:#4242b6}"]}),e})();var A=o("mIxP");const O=[{path:"",component:y,children:[{path:"login",component:C},{path:"signup",component:l}]},{path:"employee",component:F,canActivate:[A.a]},{path:"coustomer-list",component:x,canActivate:[A.a]}];let $=(()=>{class e{}return e.\u0275mod=b.Fb({type:e}),e.\u0275inj=b.Eb({factory:function(t){return new(t||e)},imports:[[r.d.forChild(O)],r.d]}),e})(),_=(()=>{class e{}return e.\u0275mod=b.Fb({type:e}),e.\u0275inj=b.Eb({factory:function(t){return new(t||e)},imports:[[i.b,$,n.b]]}),e})()}}]);